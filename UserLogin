import java.util.Scanner;

public class UserLogin {
    private static final String VALID_PASSWORD = "password";
    private int loginAttempts;

    public UserLogin() {
        this.loginAttempts = 0;
    }

    public void login() throws MaxLoginAttemptsExceededException, InvalidPasswordException {
        Scanner scanner = new Scanner(System.in);
        while (true) {
            try {
                System.out.print("Enter password: ");
                String password = scanner.nextLine();

                if (!password.equals(VALID_PASSWORD)) {
                    loginAttempts++;
                    throw new InvalidPasswordException("Invalid password. You have " + (3 - loginAttempts) + " attempts left.");
                }

                System.out.println("Login successful!");
                break;
            } catch (InvalidPasswordException e) {
                System.out.println(e.getMessage());
                if (loginAttempts >= 3) {
                    throw new MaxLoginAttemptsExceededException("Maximum login attempts exceeded.");
                }
            }
        }
        scanner.close();
    }
}
